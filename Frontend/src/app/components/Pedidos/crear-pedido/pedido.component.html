<!--
<form  (submit)="productoInsert()">

<div>
      <div class="p-card-title" class="input-cliente" style="font-size: 16px;">Cliente:</div>
      <p-dropdown class="card-cliente" placeholder="Seleccione" (onChange)="cargarCliente()" [options]="clientesListar"  [(ngModel)]="clienteSelect" optionLabel="nombre_cliente" [ngModelOptions]="{standalone: true}" ></p-dropdown>
</div>


<div>
  <div  class="p-card-title div-cod" style="font-size: 16px;">Código de barra:</div>
      <span class="p-float-label codBarra">
          <input  pattern="[0-9]+" pInputText id="producto" [(ngModel)]="codigo_barra" [ngModelOptions]="{standalone: true}"/>
          <label  htmlFor="producto">Agregar producto</label>
      </span>
</div>

<div>
  <label class="mb-2 block font-bold label-number" style="font-size: 16px;" for="stacked">Cantidad producto:</label>
  <p-inputNumber class="input-number" [showButtons]="true" inputId="stacked" [(ngModel)]="cantidad_producto" [ngModelOptions]="{standalone: true}"> </p-inputNumber>
</div>

 Boton realizar pedido
<div class="card flex justify-content-center button-submit2">
  <p-button (onClick)="realizarPedido()" label="Realizar Pedido" [disabled]="false"></p-button>
</div>
 Boton realizar agregar producto
<div class="card flex justify-content-center button-submit">
  <p-button type="submit" label="Agregar Producto" [disabled]="false"></p-button>
</div>

<div class="card table">
    <p-table
        [value]="listaTabla"
        [paginator]="true"
        [rows]="5"
        [showCurrentPageReport]="true"
        [tableStyle]="{ 'min-width': '50rem', 'min-height': '25rem' }"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [rowsPerPageOptions]="[5, 10, 15]"
    >
        <ng-template pTemplate="header">
            <tr>
                <th>Nombre Producto</th>
                <th>Precio Unitario</th>
                <th>Unidad</th>
                <th>Cantidad</th>
                <th>Sub Total</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-producto>
            <tr>
              <td>{{producto.nombre_producto}}</td>
              <td>{{ producto.precio_unitario }}</td>
              <td>{{ producto.unidad }}</td>
              <td>{{ producto.cantidad }}</td>
              <td>{{producto.subtotal}}</td>
            </tr>

  </ng-template>
        <ng-template pTemplate="paginatorleft">
          <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
      </ng-template>
      <ng-template pTemplate="paginatorright">
          <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
      </ng-template>

  </p-table>
  </div>

</form>
--------
<form  (submit)="productoInsert()">

  <div>
      <div class="p-card-title" class="input-cliente" style="font-size: 16px;">Cliente:</div>
      <p-dropdown class="card-cliente" placeholder="Seleccione" (onChange)="cargarCliente()" [options]="clientesListar"  [(ngModel)]="clienteSelect" optionLabel="nombre_cliente" [ngModelOptions]="{standalone: true}" ></p-dropdown>
</div>


  <div>
    <div  class="p-card-title div-cod" style="font-size: 16px;">Código de barra:</div>
    <span class="p-float-label codBarra">
        <input  pattern="[0-9]+" pInputText id="producto" [(ngModel)]="codigo_barra" [ngModelOptions]="{standalone: true}"/>
        <label  htmlFor="producto">Agregar producto</label>
    </span>
</div>

<div class="card flex justify-content-center button-submit">
  <p-button type="submit" label="Agregar Producto" [disabled]="false"></p-button>
</div>
<div>
  <label class="mb-2 block font-bold label-number" style="font-size: 16px;" for="stacked">Cantidad producto:</label>
  <p-inputNumber class="input-number" [showButtons]="true" inputId="stacked" [(ngModel)]="cantidad_producto" [ngModelOptions]="{standalone: true}"> </p-inputNumber>
</div>

<table mat-table [dataSource]="listaTabla" class="mat-elevation-z8 demo-table">



  <ng-container matColumnDef="nombre_producto">
    <th mat-header-cell *matHeaderCellDef> Producto </th>
    <td mat-cell *matCellDef="let producto"> {{producto.nombre_producto}} </td>
  </ng-container>


  <ng-container matColumnDef="precio_unitario">
    <th mat-header-cell *matHeaderCellDef>Precio </th>
    <td mat-cell *matCellDef="let producto"> {{producto.precio_unitario }} </td>
  </ng-container>


  <ng-container matColumnDef="unidad">
    <th mat-header-cell *matHeaderCellDef> Unidad</th>
    <td mat-cell *matCellDef="let producto"> {{producto.unidad }} </td>
  </ng-container>


  <ng-container matColumnDef="cantidad">
    <th mat-header-cell *matHeaderCellDef> Cantidad </th>
    <td mat-cell *matCellDef="let producto"> {{producto.cantidad }} </td>
  </ng-container>

  <ng-container matColumnDef="subtotal">
    <th mat-header-cell *matHeaderCellDef> Subtotal </th>
    <td mat-cell *matCellDef="let producto"> {{producto.subtotal }} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
</form>
-->

<div class="container">
  <div class="row">
    <!-- Columna del formulario -->
    <div class="col-md-4 mt-2">
      <p-card>
        <form (submit)="productoInsert()">
          <div class="row">
            <div class="col-12">
              <div>
                <label for="cliente">Cliente:</label>
              </div>
              <div class="m-lg-2">
                <p-dropdown
                  class=" row w-100"
                  id="cliente"
                  placeholder="Seleccione"
                  (onChange)="cargarCliente()"
                  [options]="clientesListar"
                  [(ngModel)]="clienteSelect"
                  optionLabel="nombre_cliente"
                  [ngModelOptions]="{ standalone: true }"
                ></p-dropdown>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
              <div>
                <label for="modo_pago">Modo de Pago:</label>
              </div>
              <div class="m-lg-2">
                <p-dropdown
                  class=" row w-100"
                  id="cliente"
                  placeholder="Seleccione"
                  (onChange)="cargarCliente()"
                  [options]="modo_pagos"
                  [(ngModel)]="selectedMedioPago"
                  optionLabel="modo_pago"
                  [ngModelOptions]="{ standalone: true }"
                ></p-dropdown>
              </div>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-12">
              <label class="mb-2" for="codigo_barra">Código de Barra:</label>
              <span class="p-float-label">
                <input
                  class="form-control"
                  pattern="[0-9]+"
                  pInputText
                  id="producto"
                  [(ngModel)]="codigo_barra"
                  autofocus
                  [ngModelOptions]="{ standalone: true }"
                />
              </span>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-6">
              <div>
                <!--
                <label class="mb-2" for="cantidad_producto"> Cantidad Producto:</label>
                -->
              </div>
              <p-inputNumber
                class="w-100"
                [showButtons]="true"
                hidden="true"
                inputId="stacked"
                [(ngModel)]="cantidad_producto"
                [readonly]="true"
                [ngModelOptions]="{ standalone: true }"
              ></p-inputNumber>
            </div>
          </div>
          <div class="row mt-4">
            <div class="col-12 text-center">
              <button class="btn btn-primary btn-block" type="submit">
                Agregar Producto
              </button>
            </div>
          </div>
        </form>
      </p-card>
    </div>

    <!-- Columna de la tabla -->
    <div class="col-md-8 mt-2">
      <p-card class="w-100">
        <p-table
          [value]="listaTabla"
          [scrollable]="true"
          scrollHeight="450px"
          [tableStyle]="{ 'min-width': '50rem', 'max-width': '100%' }"
          ><ng-template pTemplate="header">
            <tr class="row">
              <th class="col">Nombre Producto</th>
              <th class="col">Precio Unitario</th>
              <th class="col">Unidad</th>
              <th class="col">Cantidad</th>
              <th class="col">Sub Total</th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-producto>
            <tr class="row">
              <td class="col">{{ producto.nombre_producto }}</td>
              <td class="col">{{ producto.precio_unitario }}</td>
              <td class="col">{{ producto.unidad }}</td>
              <td class="col">{{ producto.cantidad }}</td>
              <td class="col">{{ producto.subtotal }}</td>
            </tr>
          </ng-template>
          <!-- Contenido de la tabla -->
        </p-table>
        <div class="d-flex justify-content-end mt-5 container" style="color: black">
          <h1 style="font-size: 25px">Total: ${{ total }}</h1>
        </div>
        <div class="container text-center mt-3">
          <p-button
            (onClick)="showDialog()"
            label="Realizar Pedido"
            [disabled]="false"
          >
          </p-button>
          <p-dialog
            header="Confirmar documento de compra"
            [(visible)]="visible"
            [modal]="true"
            [style]="{ width: '50vw' }"
            [draggable]="false"
            [resizable]="false"
          >
            <p-button
              styleClass="p-button-success"
              (onClick)="emitirBoleta()"
              label="Boleta"
              [disabled]="false"
            ></p-button>
            &nbsp;
            <p-button
              styleClass="p-button-warning"
              (onClick)="emitirBoleta()"
              label="Factura"
              [disabled]="true"
            ></p-button>
          </p-dialog>
        </div>
      </p-card>
    </div>
  </div>
</div>
